<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SAT Resource Hub</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

  <!-- NAVBAR -->
  <header>
    <nav>
      <h1>SAT Resource Hub</h1>
      <ul>
        <li><a href="{{ url_for('home') }}">Home</a></li>
        <li><a href="{{ url_for('math') }}">Math</a></li>
        <li><a href="{{ url_for('english') }}" class="active">Reading and Writing</a></li>
        <li><a href="{{ url_for('quiz') }}">Quiz</a></li>
      </ul>
    </nav>
  </header>

  <!-- HERO -->
  <section class="hero">
    <h2>Crack the Digital SAT</h2>
    <p>Understand the test, master the syllabus, and use the best resources â€” all in one place.</p>
    <a href="math.html" class="btn">Start with Math</a>
  </section>

  <!-- DIGITAL SAT INFO -->
  <section class="cards-section">
    <div class="card">
      <h3>What is the Digital SAT?</h3>
      <p>
        The SAT is now fully digital and taken on your own device using the
        official College Board <strong>Bluebook</strong> app.
      </p>
      <p>
        The test is <strong>adaptive</strong>, meaning the difficulty of questions
        adjusts based on your performance.
      </p>
    </div>

    <div class="card">
      <h3>Exam Structure & Duration</h3>
      <ul>
        <li>2 main sections: Math, Reading & Writing</li>
        <li>Each section has 2 adaptive modules</li>
        <li>Total testing time: ~2 hours 14 minutes</li>
        <li>Short breaks included between sections</li>
      </ul>
    </div>
  </section>

  <!-- SYLLABUS -->
  <section class="cards-section">
    <div class="card">
      <h3>SAT Math Syllabus</h3>
      <ul>
        <li>Algebra</li>
        <li>Advanced Math</li>
        <li>Problem Solving & Data Analysis</li>
        <li>Geometry & Trigonometry</li>
      </ul>
    </div>

    <div class="card">
      <h3>SAT Reading & Writing Syllabus</h3>
      <ul>
        <li>Reading comprehension (short passages)</li>
        <li>Grammar & punctuation</li>
        <li>Sentence structure</li>
        <li>Rhetorical skills</li>
        <li>Vocabulary in context</li>
      </ul>
    </div>
  </section>

  <!-- FEATURE REDIRECTS -->
  <section class="features">
    <div class="feature">
      <h3>Math</h3>
      <p>
        Concepts, formulas, Desmos tips, and practice questions
        for every SAT Math topic.
      </p>
      <a href="math.html">Explore Math â†’</a>
    </div>

    <div class="feature">
      <h3>Reading & Writing</h3>
      <p>
        Grammar rules, reading strategies, and question patterns
        explained clearly.
      </p>
      <a href="english.html">Explore R&W â†’</a>
    </div>

    <div class="feature">
      <h3>SAT Quiz</h3>
      <p>
        Test your SAT skills with timed quizzes and instant feedback to see
        where you can improve.
      </p>
      <a href="quiz.html">Start Quiz â†’</a>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    Â© 2026 SAT Resource Hub | Digital SAT Made Simple
  </footer>

  <!-- ================== Floating AI Chat Button ================== -->
  <div id="ai-chat-button" style="
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background-color: #800080;  /* Purple */
      color: white;
      text-align: center;
      line-height: 60px;
      font-size: 30px;
      cursor: pointer;
      z-index: 1000;
  ">ðŸ¤–</div>

  <!-- Chat Window (hidden by default) -->
  <div id="ai-chat-window" style="
      display: none;
      position: fixed;
      bottom: 90px;
      right: 20px;
      width: 300px;
      height: 400px;
      border: 2px solid #800080;  /* Purple border */
      border-radius: 10px;
      background-color: white;
      z-index: 1001;
      flex-direction: column;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  ">
      <div id="ai-chat-header" style="background-color:#800080; color:white; padding:10px; text-align:center; border-radius:10px 10px 0 0;">
          Chat with AI
      </div>
      <div id="ai-chat-messages" style="padding:10px; overflow-y:auto; flex:1;"></div>
      <input id="ai-chat-input" type="text" placeholder="Type a message..." style="width: calc(100% - 20px); margin:10px; padding:5px;">
  </div>
  
<script>
const chatButton = document.getElementById('ai-chat-button');
const chatWindow = document.getElementById('ai-chat-window');
const chatInput = document.getElementById('ai-chat-input');
const chatMessages = document.getElementById('ai-chat-messages');

// Toggle chat window
chatButton.addEventListener('click', () => {
    chatWindow.style.display = chatWindow.style.display === 'flex' ? 'none' : 'flex';
    chatWindow.style.flexDirection = 'column';
});

// Send message on Enter
chatInput.addEventListener('keypress', function(e) {
    if(e.key === 'Enter' && chatInput.value.trim() !== '') {
        const msg = chatInput.value;
        const userMsgDiv = document.createElement('div');
        userMsgDiv.textContent = "You: " + msg;
        userMsgDiv.style.marginBottom = "8px";
        chatMessages.appendChild(userMsgDiv);
        chatInput.value = '';

        // Fetch AI response
        fetch("/ask-ai", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ message: msg })
        })
        .then(res => res.json())
        .then(data => {
            const aiMsgDiv = document.createElement('div');
            aiMsgDiv.textContent = "AI: " + (data.reply || "Error.");
            aiMsgDiv.style.marginBottom = "8px";
            chatMessages.appendChild(aiMsgDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        });
    }
});
</script>

</body>
</html>
